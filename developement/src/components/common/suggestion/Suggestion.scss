@import '../style/theme';
@import '../style/mixin';

$itemBorder: #999;

.suggestion-wrapper {
  ul, ol {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  &.-has-calendar {
    width: 500px;

    .calendar-wrapper {
      .field-list-wrapper {
        width: 100%;
        > li {
          width: 48%;
          padding-right: 2%;
          &:last-child {
            padding-left: 2%;
            padding-right: 0;
          }

          input {
            width: 100%;
          }
        }
      }

      legend {
        @include ariaVisible();
      }
    }
  }

  .suggestion-cnt {
    position: relative;

    .clear-btn {
      position: absolute;
      right: 0;
      top: 100%;
      margin-top: -30px;
    }

    input[type="text"] {
      padding-right: 30px;
      &.-normal + .clear-btn {
        margin-top: -35px;
      }
    }

    &.-dropdown-menu {
      .suggestion-holder {
        visibility: hidden;
        position: absolute;
        left: 0;
        top: 0;
      }
    }
  }

  .suggestion-widget {
    position: absolute;
    left: 1px;
    right: 1px;
    top: 100%;
    z-index: 120;
    background: $color-white none no-repeat 3px center / auto 20px;

    .matched-item,
    .empty-list {
      display: block;
      padding: 5px 5px 5px 25px;
      background: #fff none no-repeat 3px center / auto 20px;
      color: $color-font;
    }
    .matched-list {
      > li {
        position: relative;

        &:hover .matched-item {
          color: $color-blue;
          outline: none;
          z-index: 1;
          border-color: $color-focus;
          box-shadow:  inset 0 0 5px $color-focus;
          font-weight: 500;
        }
      }
    }

    .empty-list {
      font-style: italic;
    }

    .matched-item {
      font-weight: 500;
      border: 1px solid $itemBorder;
      position: relative;
      margin: 0 0 -1px 0;
      position: relative;
      box-shadow: none;

      &:hover, &:focus, &.-focus {
        color: $color-blue;
        outline: none;
        z-index: 1;
        border-color: $color-focus;
        box-shadow:  inset 0 0 5px $color-focus;
        font-weight: 500;
      }

      &.-disabled {
        &, &:hover {
          color: $color-font !important;
          border-color: $color-border !important;
          box-shadow: none !important;
          @include opacity(.7);
        }
      }

      &.-selected {
        color: $color-blue;
        background-image: url('../../../static/icon/checked/checked.svg');
      }

      &.-next-is-detail {
        padding-right: 40px;
      }

      .unit-info {
        font-style: italic;
      }

      .reserved-info {
        display: block;
        color: $color-warning;
        font-weight: normal !important;
        white-space: nowrap;
        &:before {
          content: 'Reservet: ';
          font-style: italic;
          color: $color-font;
          @include opacity(.8);
        }
      }
    }

    .matched-item-detail {
      position: absolute;
      right: 2px;
      top: 0;
      z-index: 1;
    }

    .loader-wrapper {
      border: 1px solid $color-border;
      background: $color-white none repeat 0 0;
    }
  }

  .selected-wrapper {
    position: relative;
    padding-right: 30px;
    .clear-btn {
      top: 0;
      margin: 0;
    }
  }

  .suggestion-holder {
    white-space: normal;
    > li {
      display: inline-block;
      margin: 0 4px 2px 0;
      .tag-btn {
        overflow: hidden;
        position: relative;
        border: 1px solid $color-border;
        border-radius: $border-round;
        background: $color-white none no-repeat 0 0;
        padding: 5px 25px 5px 10px;

        .tag-cnt .icon-btn {
          width: 40px;
          height: 30px;
          background-size: 12px auto;
          margin: -6px 5px;
          float: right;

          &:hover,&:focus {
            border-color: $color-focus;
          }
        }

        .tag-cnt {
          max-width: 300px;
          max-height: 31px;
        }
      }

      a.tag-cnt {
        margin-right: 10px;
        > span {
          text-decoration: underline;
          color: $color-link;

          .name-detail {
            display: none;
            &:first-child {
              display: inline-block;
              min-width: 20px;
              padding-left: 3px;
            }
          }
        }
      }

      .icon-btn.-cross {
        height: auto;
        position: absolute;
        right: 1px;
        top: 0;
        bottom: 0;
        background-size: 11px auto;
        @include opacity(.4);

        &:hover, &:focus {
          @include opacity(1);
        }
      }
    }
  }

  .suggestion-calendar-wrapper,
  .suggestion-category-wrapper {
    position: relative;
    white-space: nowrap;
  }

  .suggestion-category-wrapper {
    background-color: #333;
    &, a, a:hover {
      color: #fff;
    }
  }

  .suggestion-category-list {
    padding: 10px;
    > li {
      display: inline-block;
      margin: 0 10px 0 0;
      font-weight: 700;
      text-transform: capitalize;      

      a:hover {
        color: $color-blue;
      }

      a.suggestion-category-btn.-active {
        color: $color-green;
      }
    }
  }

  .suggestion-calendar-wrapper {
    overflow: hidden;
    max-height: 0;
    max-width: 600px;
    margin: 0 auto;
    @include transition( all, .2s, ease-in-out);
    &.-open {
      max-height: 600px;
    }

    .calendar-wrapper {
      padding: 10px 5px;
      border: 1px solid $itemBorder;
    }

    .calendar-widget > .collection > ul {
      width: 100%;
    }
  }
}

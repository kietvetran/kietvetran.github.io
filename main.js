"use strict";(self.webpackChunkkietvetran_github_io=self.webpackChunkkietvetran_github_io||[]).push([[792],{97:(e,t,a)=>{var n=a(540),r=a(338),i=a(665),l=a(438),o=a(471);const s=new l.E({queryCache:new o.$({onError:(e,t)=>{void 0!==t.state.data&&console.log(`Query refetch failed for: ${t.queryKey}. Error: ${e.message}`)}}),defaultOptions:{queries:{staleTime:3e5}}});var c=a(942),m=a.n(c);const u=e=>{const t=parseInt(`${null!=e?e:0}`,10);return t>=13?4:t>=10?3:t>=8?2:1},d=e=>{var t;const a=[];return(null!==(t=e.data)&&void 0!==t?t:[]).forEach((e=>{e.forEach(((e,t)=>{var n;const r=parseInt(e||"0",10);a[t]=(null!==(n=a[t])&&void 0!==n?n:0)+((e=0)=>e*u(e))(r)}))})),a},g=e=>{const t=d(e),a=[];return t.forEach(((e,n)=>{t.forEach(((t,r)=>{var i;n!==r&&(a[n]=(null!==(i=a[n])&&void 0!==i?i:0)+(t-e))}))})),a.map((t=>(t*=e.double?2:1)>0?0:t<-500?-500:t))};var p=a(575),v=a(785),b=a(664),f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function h(e){const{id:t,label:a,error:r,register:i}=e,l=f(e,["id","label","error","register"]);return n.createElement("div",{className:"input-wrapper"},n.createElement("label",{htmlFor:t,className:"input-label"},a),n.createElement("div",{className:"input-holder"},n.createElement("input",Object.assign({className:m()("textfield",{"-invalid":!!r}),id:t},i(l.name),l))),!!r&&n.createElement("div",{className:"input-error"},r),e.children)}var E=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(e){i(e)}}function o(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))};function y(e){var t,a;const r=b.Ik().shape(Array.from({length:4}).reduce(((t,a,n)=>(t[`data-${e.row}-${n}`]=0===e.row?b.Yj().required("Required"):b.Yj().matches(/^(\s*|\d+)$/,"Must be only digits"),t)),{})).required(),[i,l]=(0,n.useState)((null!==(t=e.data)&&void 0!==t?t:[]).reduce(((t,a,n)=>(t[`data-${e.row}-${n}`]=null!=a?a:"",t)),{})),{register:o,handleSubmit:s,getValues:c,clearErrors:m,formState:{errors:d}}=(0,v.mN)({resolver:(0,p.t)(r),mode:"onBlur",defaultValues:i}),g=(t,a="",n="")=>{var r;const i=Array.from({length:4}).map(((a,n)=>{var r;return null!==(r=t[`data-${e.row}-${n}`])&&void 0!==r?r:""}));if(!a)return i;const l=null!==(r=a.split("-").pop())&&void 0!==r?r:"";return l?(i[parseInt(l,10)]=null!=n?n:"",i):i},f=t=>E(this,void 0,void 0,(function*(){var a,n;const i=t.target.name,o=t.target.value.trim(),s=c();if("required"===(null===(a=d[i])||void 0===a?void 0:a.type)&&o)m(i);else if(null===(n=d[i])||void 0===n?void 0:n.message)try{const e={[i]:o},t=yield r.validate(e);JSON.stringify(e)===JSON.stringify(t)&&m(i)}catch(e){}e.callback(g(s,i,o),e.row),l(Object.assign(Object.assign({},s),{[i]:o}))}));return n.createElement("div",{className:"game-row -"+(0===e.row?"player":"data")},n.createElement("form",{noValidate:!0,className:"form-wrapper",onSubmit:s((t=>{(t=>{e.callback(g(t),e.row)})(t)}))},n.createElement("div",{className:"cell"},n.createElement("span",null,null!==(a=e.pin)&&void 0!==a?a:"")),Array.from({length:4}).map(((t,a)=>{var r,l,s;const c=`data-${e.row}-${a}`,m=null===(r=d[c])||void 0===r?void 0:r.message;return n.createElement("div",{key:c,className:`cell -timing-${u(i[c])}`},!!e.result&&n.createElement("div",{className:"result"},e.result[a]?n.createElement(n.Fragment,null,!!e.amount&&n.createElement("span",{className:"amount"},null!==(l=e.amount[a])&&void 0!==l?l:""),n.createElement("span",{className:"count"},"(",null!==(s=e.result[a])&&void 0!==s?s:"-",")")):n.createElement(n.Fragment,null,"-")),0===e.row?n.createElement(h,{register:o,placeholder:`Player ${a+1}`,id:c,name:c,label:"Name",error:m,onChange:f}):n.createElement(h,{register:o,id:c,name:c,label:"Card",error:m,onChange:f}))}))))}var w=a(270),O=a(478);const j={method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"}};var N=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(e){i(e)}}function o(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))};const S=()=>N(void 0,void 0,void 0,(function*(){const e=yield fetch("https://api.jsonstorage.net/v1/json/0a6ab31e-27e8-4c6f-82eb-852905e09690/400a8c66-3db6-49c7-86f8-cf6056c90a44");return yield e.json()}));const x=e=>(0,w.I)({queryKey:["bigtwogame"],queryFn:S,staleTime:e,select:e=>(e=>{const t={},a={list:e.filter((e=>"deleted"!==e.mode)),playerDetail:[]};return a.list.forEach((e=>{var n;(null!==(n=e.player)&&void 0!==n?n:[]).forEach((e=>{void 0===t[e]&&(t[e]=a.playerDetail.length,a.playerDetail[t[e]]={name:e,amount:0})})),g(e).forEach(((n,r)=>{var i,l;const o=null!==(l=(null!==(i=e.player)&&void 0!==i?i:[])[r])&&void 0!==l?l:"";void 0!==t[o]&&(a.playerDetail[t[o]].amount+=n)}))})),a})(e)}),$=()=>{const e=(0,i.jE)();return(0,O.n)({mutationFn:e=>{return t=void 0,a=void 0,r=function*(){return yield(e=>N(void 0,void 0,void 0,(function*(){const t=JSON.stringify(e);return 200===(yield fetch("https://api.jsonstorage.net/v1/json/0a6ab31e-27e8-4c6f-82eb-852905e09690/400a8c66-3db6-49c7-86f8-cf6056c90a44?apiKey=814e1ed3-82ed-4a1a-893a-4268bb05c459",Object.assign(Object.assign({},j),{body:t,method:"PUT"}))).status})))(e)},new((n=void 0)||(n=Promise))((function(e,i){function l(e){try{s(r.next(e))}catch(e){i(e)}}function o(e){try{s(r.throw(e))}catch(e){i(e)}}function s(t){var a;t.done?e(t.value):(a=t.value,a instanceof n?a:new n((function(e){e(a)}))).then(l,o)}s((r=r.apply(t,a||[])).next())}));var t,a,n,r},onSuccess:()=>{e.invalidateQueries({queryKey:["bigtwogame"]})},onError:(e,t)=>{t.pop()}})},k=e=>{var t;const a=Object.assign({role:"status"},!1!==e.polite?{"aria-live":"polite"}:{});return n.createElement("div",Object.assign({},a,{className:m()("spinner-wrapper",`-${null!==(t=e.type)&&void 0!==t?t:"normal"}`,{"-big":"big"===e.size,"-medium":"medium"===e.size,"-absolute-position":e.absolute})}),n.createElement("span",null,"Vent litt"))};var L=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(e){i(e)}}function o(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))};function q(e){var t,a,r;const i=$(),l=(0,n.useRef)(void 0),[o,s]=(0,n.useState)({}),c=(t=e.list,a=6e4)=>{if(!t)return;const n=()=>{try{i.mutate(t)}catch(e){}};a?(l.current&&clearTimeout(l.current),l.current=setTimeout(n,a)):n()},m=()=>({id:(new Date).toISOString(),player:[],data:[[]]}),u=(t,a)=>L(this,void 0,void 0,(function*(){var n;if(!o.game||!e.list)return;const r=t.map((e=>`${e||""}`.toLowerCase())),i=null!==(n=o.game.id)&&void 0!==n?n:"",l=e.list.find((e=>e.id===i));if(!l)return;const u=Object.assign({game:m()},o);if(0===a)u.game.player=r;else if(u.game.data){const e=a-1;u.game.data[e]=r,u.game.data=u.game.data.filter((e=>/[0-9]/.test(JSON.stringify(e))));const t=u.game.data.length-1;(-1===t||/[0-9]/.test(JSON.stringify(u.game.data[t])))&&u.game.data.push([])}l.player=u.game.player,l.data=u.game.data,c(e.list),s(Object.assign(Object.assign({},u),{result:d(l),amount:g(l)}))}));return(0,n.useEffect)((()=>{var t;if(o.game)return;const a=Object.assign(Object.assign({},m()),e.game),n=null!==(t=a.data)&&void 0!==t?t:[],r=n.length-1;(0===n.length||/[0-9]/.test(JSON.stringify(n[r])))&&n.push([]),s(Object.assign(Object.assign({},o),{game:a,result:d(a),amount:g(a)}))}),[e.game,o,s]),(0,n.useEffect)((()=>()=>{c(void 0,0)}),[]),n.createElement("div",{className:"big-tow-game-wrapper"},o.game?n.createElement(n.Fragment,null,n.createElement(y,{callback:u,data:null===(t=o.game)||void 0===t?void 0:t.player,row:0,result:o.result,amount:o.amount}),n.createElement("div",{className:"data-holder"},(null!==(r=null===(a=o.game)||void 0===a?void 0:a.data)&&void 0!==r?r:[]).map(((e,t)=>n.createElement(y,{key:`data-${t}`,callback:u,pin:`${t+1}.`,row:t+1,data:e}))))):n.createElement(k,null))}var P=function(e,t,a,n){return new(a||(a=Promise))((function(r,i){function l(e){try{s(n.next(e))}catch(e){i(e)}}function o(e){try{s(n.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,o)}s((n=n.apply(e,t||[])).next())}))};function I(){var e,t;const a=x(),r=$(),[i,l]=(0,n.useState)({onEdit:!1,loading:!1}),o=()=>P(this,void 0,void 0,(function*(){var e,t;const n=null!==(t=null===(e=a.data)||void 0===e?void 0:e.list)&&void 0!==t?t:[];n.push({id:(new Date).toISOString()}),l(Object.assign(Object.assign({},i),{loading:!0}));try{yield r.mutate(n)}catch(e){n.pop()}l(Object.assign(Object.assign({},i),{loading:!1}))})),s=e=>P(this,void 0,void 0,(function*(){var t,n,o,s;if(!e||/deleted|finished/i.test(null!==(t=e.mode)&&void 0!==t?t:""))return;/[1-9]/.test(JSON.stringify(e.data))?e.mode="deleted":a.data&&(a.data.list=(null!==(n=a.data.list)&&void 0!==n?n:[]).filter((t=>t.id!==e.id)));const c=null!==(s=null===(o=a.data)||void 0===o?void 0:o.list)&&void 0!==s?s:[];l(Object.assign(Object.assign({},i),{loading:!0}));try{yield r.mutate(c)}catch(e){}l(Object.assign(Object.assign({},i),{loading:!1}))})),c=(e,t="",n)=>{e.preventDefault&&e.preventDefault(),"open-game"===t?l(Object.assign(Object.assign({},i),{game:n})):"new-game"===t?o():"edit-game"===t?l(Object.assign(Object.assign({},i),{onEdit:!i.onEdit})):"delete-game"===t?s(n):"back"===t?l(Object.assign(Object.assign({},i),{game:void 0})):"toggle-game-double"===t&&(()=>{var e,t,n,o;if(!i.game)return;const s=Object.assign(Object.assign({},i.game),{double:!i.game.double}),c=(null!==(t=null===(e=a.data)||void 0===e?void 0:e.list)&&void 0!==t?t:[]).find((e=>e.id===s.id));if(c){c.double=s.double;try{r.mutate(null!==(o=null===(n=a.data)||void 0===n?void 0:n.list)&&void 0!==o?o:[])}catch(e){}}l(Object.assign(Object.assign({},i),{game:s}))})()};return n.createElement("div",{className:m()("big-tow-desktop-wrapper",{"-on-edit":i.onEdit})},n.createElement("h1",{className:"h2"},"Big2"),a.isLoading&&n.createElement(k,null),!a.isLoading&&!a.isError&&a.data&&n.createElement("div",{className:"content relative"},n.createElement("section",{"aria-labelledby":"game-label"},n.createElement("div",{className:"sub-title"},!!i.game&&n.createElement("a",{href:"#",title:"Edit game",className:"tool-game-btn -back",onClick:e=>{c(e,"back")}},"back"),n.createElement("span",{id:"game-label"},"Game"),!!i.game&&n.createElement("span",{className:"date"},i.game.id.substring(0,10)),!i.game&&n.createElement(n.Fragment,null,n.createElement("a",{href:"#",title:"Edit game",className:"tool-game-btn -edit",onClick:e=>{c(e,"edit-game")}},i.onEdit?"Done":"Edit"),n.createElement("a",{href:"#",title:"New game",className:"tool-game-btn -add",onClick:e=>{c(e,"new-game")}},"Add")),!!i.game&&n.createElement("a",{href:"#",title:"Doueble sum",className:`tool-game-btn -double-sum -${i.game.double?"yes":"no"} hide`,onClick:e=>{c(e,"toggle-game-double")}},"Amount x 2")),i.game?n.createElement(q,{game:i.game,list:null!==(t=null===(e=a.data)||void 0===e?void 0:e.list)&&void 0!==t?t:[]}):n.createElement("div",{className:"game-list"},a.data.list.map(((e,t)=>{var a,r;const l=i.onEdit?"delete-game":"open-game";return n.createElement("a",{key:`game-${t}`,href:"#",className:`game-card-row -mode-${null!==(a=e.mode)&&void 0!==a?a:"none"} -${l}`,onClick:t=>{c(t,l,e)}},n.createElement("div",{className:"counter"},t+1,"."),n.createElement("div",{className:"date"},e.id.substring(0,10)),n.createElement("div",{className:"text"},(null!==(r=e.player)&&void 0!==r?r:[]).join(", ")||"-"))})))),!i.game&&n.createElement("section",{"aria-labelledby":"amount-label"},n.createElement("div",{className:"sub-title",id:"amount-label"},n.createElement("span",null,"Amount")),n.createElement("div",{className:"amount-description"},a.data.playerDetail.map(((e,t)=>n.createElement("div",{key:`player-amount-${t}`,className:"player-detail"},`${e.name}: ${e.amount}`))))),i.loading&&n.createElement(k,{absolute:!0})))}function F({success:e}){const[t,a]=(0,n.useState)({code:"111111",value:"",error:"",isOnFocus:!1});return n.createElement("div",{className:"big-two-login-wrapper"},n.createElement("h2",null,"Pin"),n.createElement("div",{className:"pin-board"},t.code.split("").map(((e,a)=>n.createElement("span",{key:`pin-card-${a}`,className:m()("pin-card",{"-active":a<t.value.length,"-focus":t.isOnFocus&&a===t.value.length})}))),n.createElement("label",{htmlFor:"big-two-login-pin"},"Pin"),n.createElement("input",{type:"tel",id:"big-two-login-pin",maxLength:t.code.length,value:t.value,onChange:n=>{const r=n.target.value;return r.length!==t.code.length?a(Object.assign(Object.assign({},t),{value:r,error:""})):r===t.code?(a(Object.assign(Object.assign({},t),{value:r,error:""})),e()):void a(Object.assign(Object.assign({},t),{value:"",error:"Incorrect pin"}))},onFocus:()=>{a(Object.assign(Object.assign({},t),{isOnFocus:!0}))},onBlur:()=>{a(Object.assign(Object.assign({},t),{isOnFocus:!1}))}})),!!t.error&&n.createElement("div",{"aria-live":"polite",className:"input-error"},t.error))}const C=(e="",t="",a=1)=>{if(!e)return;const n=[`${e}=${t||""}`],r=new Date,i=a||1e3;r.setTime(r.getTime()+24*i*60*60*1e3),n.push(`expires=${r.toString()}`),n.push("path=/"),document.cookie=n.join("; ")},A=(e="")=>{const t=`${e}=`,a=document.cookie.split(";");for(let e=0;e<a.length;e++){let n=a[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return""};function D(){const[e,t]=(0,n.useState)(!!A("bigtwo"));return n.createElement("div",{className:"big-two-wrapper"},e?n.createElement(I,null):n.createElement(F,{success:()=>{C("bigtwo","1",3650),t(!0)}}))}const T=b.Ik().shape({name:b.Yj().required("Name is required"),age:b.Yj().required("Age is required").matches(/^[0-9]+$/,"Must be only digits").min(2,"Need 2 degits").max(2,"Need 2 degits"),pin:b.Yj().required("Pin is required").when(["age"],(([e],t)=>parseInt(e,10)>18?t.matches(/^[0-9]+$/,"Must be only digits"):t.matches(/^[a-z]+$/,"Must a-z character"))),email:b.Yj().when(["name","age"],(([e,t],a)=>e&&t?a.required("Email is required"):a)).email("Invalid email addresse"),fnr:b.Yj().test("person-id","Invalid fnr",(e=>!e||(e=>{const t=`${null!=e?e:""}`.replace(/[\s-]+/g,"");if(!(e=>{if(!/string|number/.test(typeof e))return!1;const t=`${e}`.replace(/\s+/g,"");return/^(-)?[0-9,.]+$/.test(t)})(t)||11!==t.length)return!1;const a=(e,t)=>{let a=0;for(let n=0,r=t.length;n<r;++n)a+=parseInt(e.charAt(n),10)*t[n];return a};let n=11-a(t,[3,7,6,1,8,9,4,5,2])%11;11===n&&(n=0);let r=11-a(t,[5,4,3,2,7,6,5,4,3,2])%11;return 11===r&&(r=0),n===parseInt(t.charAt(9),10)&&r===parseInt(t.charAt(10),10)})(e)))}).required();function R(){var e,t,a,r,i;const{register:l,handleSubmit:o,formState:{errors:s}}=(0,v.mN)({resolver:(0,p.t)(T),mode:"onBlur"});return n.createElement("div",{className:"profile-wrapper"},n.createElement("h2",null,"Profile"),n.createElement("form",{noValidate:!0,className:"form-wrapper",onSubmit:o((e=>{(e=>{console.log(e)})(e)}))},n.createElement(h,{register:l,id:"name",name:"name",label:"Name",type:"text",error:null===(e=s.name)||void 0===e?void 0:e.message}),n.createElement(h,{register:l,id:"age",name:"age",label:"Age",type:"tel",error:null===(t=s.age)||void 0===t?void 0:t.message}),n.createElement(h,{register:l,id:"pin",name:"pin",label:"Pin",type:"text",error:null===(a=s.pin)||void 0===a?void 0:a.message}),n.createElement(h,{register:l,id:"email",name:"email",label:"Email",type:"email",error:null===(r=s.email)||void 0===r?void 0:r.message}),n.createElement(h,{register:l,placeholder:"11 digits",id:"fnr",name:"fnr",label:"F-number",type:"tel",error:null===(i=s.fnr)||void 0===i?void 0:i.message}),n.createElement("input",{type:"submit",className:"button -primary"})))}var Y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function J(e){const{id:t,label:a,error:r,register:i}=e,l=Y(e,["id","label","error","register"]);return n.createElement("div",{className:"input-wrapper"},n.createElement("label",{htmlFor:t,className:"input-label"},a),n.createElement("div",{className:"input-holder"},n.createElement("textarea",Object.assign({className:m()("textarea",{"-invalid":!!r}),id:t},i(l.name),l))),!!r&&n.createElement("div",{className:"input-error"},r),e.children)}var V=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};function B(e){const{id:t,label:a,error:r,register:i,optionList:l}=e,o=V(e,["id","label","error","register","optionList"]);return n.createElement("div",{className:"input-wrapper"},n.createElement("label",{htmlFor:t,className:"input-label"},a),n.createElement("div",{className:"input-holder"},n.createElement("select",Object.assign({className:m()("textfield",{"-invalid":!!r}),id:t},i(o.name),o),l.map((e=>n.createElement("option",{key:e.value,value:e.value},e.label))))),!!r&&n.createElement("div",{className:"input-error"},r),e.children)}const z=b.Ik().shape({text:b.Yj(),language:b.Yj().required("Language is required")}).required();function G(){var e,t;const[a,r]=(0,n.useState)({voiceList:[],languageList:[]}),{register:i,handleSubmit:l,formState:{errors:o},reset:s}=(0,v.mN)({resolver:(0,p.t)(z),mode:"onBlur"});return(0,n.useEffect)((()=>{window.speechSynthesis.onvoiceschanged=()=>{var e;const t=null!==(e=window.speechSynthesis.getVoices())&&void 0!==e?e:[],a=t.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t.lang]:`${t.name} - ${t.lang}`})),{}),n=Object.entries(a).map((([e,t])=>({value:e,label:t})));r({voiceList:t,languageList:n}),s({language:"zh-HK"})}}),[r]),n.createElement("div",{className:"speech-wrapper"},n.createElement("h2",null,"Speech"),n.createElement("form",{noValidate:!0,className:"form-wrapper",onSubmit:l((e=>{(e=>{var t;if(!e.text)return;const n=null!==(t=new SpeechSynthesisUtterance)&&void 0!==t?t:{};n.text=e.text,["volume","rate","pitch"].forEach((t=>{e[t]&&(n[t]=parseFloat(`${e[t]}`))})),n.voice=a.voiceList.find((t=>t.lang===e.language)),window.speechSynthesis.speak(n)})(e)}))},n.createElement(J,{register:i,id:"text",name:"text",label:"Text",error:null===(e=o.text)||void 0===e?void 0:e.message}),n.createElement(B,{register:i,id:"language",name:"language",label:"Language",error:null===(t=o.language)||void 0===t?void 0:t.message,optionList:a.languageList}),n.createElement("input",{type:"submit",className:"button -primary"})))}const K=()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition,t=window.SpeechGrammarList||window.webkitSpeechGrammarList;return!!e&&!!t},_=()=>{const e=window.SpeechRecognition||window.webkitSpeechRecognition,t=(window.SpeechGrammarList||window.webkitSpeechGrammarList,e?new e:null);return t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,t};function M(){const[e,t]=(0,n.useState)({recognition:void 0,textList:[]}),a=a=>{const n=a.results.length-1,r=a.results[n][0].transcript;t(Object.assign(Object.assign({},e),{textList:[r].concat(e.textList)}))},r=()=>{t(Object.assign(Object.assign({},e),{recognition:void 0}))},i=()=>{t(Object.assign(Object.assign({},e),{recognition:void 0}))},l=()=>{t(Object.assign(Object.assign({},e),{recognition:void 0}))};return n.createElement("div",{className:"recognition-wrapper"},n.createElement("h2",null,"Recognition"),n.createElement("div",{className:"paragraph"},K()?n.createElement("button",{className:"button -"+(e.recognition?"secondary":"primary"),onClick:()=>{if(e.recognition)e.recognition.stop(),t(Object.assign(Object.assign({},e),{recognition:void 0}));else{const e=_();e.onresult=a,e.onspeechend=r,e.onnomatch=i,e.onerror=l,e.start(),t({recognition:e,textList:[]})}}},e.recognition?"Stop":"Start"):n.createElement("div",{className:"message-wrapper -info"},"The browser does not support recognition.")),n.createElement("ul",{className:"text-output-wrapper"},e.textList.map(((e,t)=>n.createElement("li",{key:`text-${t}`},e)))))}function U(){const e=((e=window.location.href)=>{const t=e.replace(/#(\/)?$/,"").replace(/\?+/g,"?").match(/^([\w.\-\s_#%/:]+)\?(.*)/);return(null==t?void 0:t[2])?(decodeURIComponent(t[2])||"").replace(/#\?/g,"&").split("&").reduce(((e,t)=>{const a=(t||"").match(/(\w+)=(.*)/);return(null==a?void 0:a[1])&&a[2]?(e[a[1]]?e[a[1]]=(e[a[1]]instanceof Array?e[a[1]]:[e[a[1]]]).concat(a[2]):e[a[1]]=a[2],e):e}),{}):{}})();return n.createElement("div",{className:"home-wrapper"},"bigtwo"===e.view&&n.createElement(D,null),"profile"===e.view&&n.createElement(R,null),!e.view&&n.createElement("div",{className:"home-content"},!1,!1,n.createElement("div",{className:"home-widget"},n.createElement(G,null)),n.createElement("div",{className:"home-widget"},n.createElement(M,null))))}const H=document.getElementById("app");H&&(0,r.H)(H).render(n.createElement((function(){return n.createElement(i.Ht,{client:s},n.createElement("div",{className:"application-wrapper"},n.createElement("header",{className:"app-header"},n.createElement("div",{className:"app-cnt layout-wrapper"},n.createElement("a",{href:window.location.href,className:"link -no-underline"},n.createElement("h1",null,"kietvetran")),n.createElement("nav",{id:"main-nav",className:"navigation","aria-label":"hovedmenu",role:"navigation"}))),n.createElement("main",{className:"app-body"},n.createElement("div",{className:"app-cnt layout-wrapper"},n.createElement(U,null),!1))))}),null))}},e=>{e.O(0,[96],(()=>(97,e(e.s=97)))),e.O()}]);